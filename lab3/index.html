<!DOCTYPE html>
<html>
  <budy>
    
  </budy>
</html>
<head>

</head>
<style>
  gallery {
    --g: 6px; 
    
    display:grid;
    width: 1200px; 
  }
</style>
<body>
    <h1>景點觀光展覽資訊</h1>
    <table id="csie" class="table table-striped table-hover">
        <tr>
            <th>名稱</th>
            <th>地點</th>
            <th>票價</th>
        </tr>
    </table>
    <button onclick="delOldData()">delOldData</button>
</body>

<script>
  
    var openUrl = "https://cloud.culture.tw/frontsite/trans/SearchShowAction.do?method=doFindTypeJ&category=6"
    var xhr = new XMLHttpRequest();
    xhr.open('GET', openUrl, true);
    xhr.send();
    xhr.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            dataset = JSON.parse(this.responseText);
            addNewData(dataset);
        }
    };

    function addNewData(dataset) {
        var myTable = document.getElementById("csie");
        dataset.forEach(function(data, index) {
            var row = myTable.insertRow(-1);
            row.insertCell(0).innerHTML =  data['title'];
            row.insertCell(1).innerHTML =  data['showInfo'][0]['location'];
            row.insertCell(2).innerHTML =  data['showInfo'][0]['price'];
        });
    }

</script>
